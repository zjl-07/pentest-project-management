import React, { useState } from "react";
import { withRouter } from "react-router-dom";
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import { faBuilding } from "@fortawesome/free-solid-svg-icons";
import { faUser } from "@fortawesome/free-solid-svg-icons";
import Image from "download.jpg";

const Sidebar = ({ isActive, history }) => {
  const [active, setActive] = useState("");
  const [sidebarList] = useState([
    {
      id: 1,
      icon: faBuilding,
      name: "Corporate List",
      link: "/"
    },
    {
      id: 2,
      icon: faUser,
      name: "My Project",
      link: "/all-project"
    }
  ]);

  const onSidebarListToggle = value => setActive(value);
  const sidebarActive = value => (value === active ? "sidebar_active" : "");

  return (
    <div className={`sidebar ${isActive}`}>
      <ul>
        <div className="profile">
          <div className="image">
            <img className="img" alt="profile" src={Image} />
          </div>
          <div className="desc">
            <p className="name">Arlen</p>
            <p className="position">Cyber Security Intern</p>
          </div>
        </div>

        {sidebarList.map(list => (
          <li
            key={list.id}
            onClick={() => (
              onSidebarListToggle(list.name), history.push(`${list.link}`)
            )}
            className={`${sidebarActive(list.name)}`}
          >
            <FontAwesomeIcon icon={list.icon} />
            <div className="title">{list.name}</div>
          </li>
        ))}
      </ul>
    </div>
  );
};

export default withRouter(Sidebar);
