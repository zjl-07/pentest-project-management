import React, { useState } from "react";
import { withRouter } from "react-router-dom";
import BusinessIcon from "@material-ui/icons/Business";
import AssignmentIcon from "@material-ui/icons/Assignment";
import Avatar from "@material-ui/core/Avatar";
import Image from "download.jpg";

const Sidebar = ({ isActive, history }) => {
  const [active, setActive] = useState("");
  const [sidebarList] = useState([
    {
      id: 1,
      icon: <BusinessIcon fontSize="large" />,
      name: "Corporate List",
      link: "/"
    },
    {
      id: 2,
      icon: <AssignmentIcon fontSize="large" />,
      name: "My Project",
      link: "/all-project"
    }
  ]);

  const onSidebarListToggle = value => setActive(value);
  const sidebarActive = value => (value === active ? "sidebar_active" : "");

  return (
    <div className={`sidebar ${isActive}`}>
      <ul>
        <div className="profile">
          <div className="image">
            <Avatar alt="profile" src={Image} />
          </div>
          <div className="desc">
            <p className="name">Emilda</p>
            <p className="position">CS Intern</p>
          </div>
        </div>

        {sidebarList.map(list => (
          <li
            key={list.id}
            onClick={() => {
              onSidebarListToggle(list.name);
              history.push(`${list.link}`);
            }}
            className={`${sidebarActive(list.name)}`}
          >
            {list.icon}
            <div className="title">{list.name}</div>
          </li>
        ))}
      </ul>
    </div>
  );
};

export default withRouter(Sidebar);
