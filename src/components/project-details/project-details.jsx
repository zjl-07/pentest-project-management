import React from "react";
import {
  Paper,
  Chip,
  Button,
  Table,
  TableBody,
  TableCell,
  TableRow,
  TableHead,
  Link
} from "@material-ui/core";
import GetAppIcon from "@material-ui/icons/GetApp";
import { withRouter } from "react-router-dom";

const ProjectDetails = ({
  project: {
    name,
    description,
    startDate,
    endDate,
    reportStartDate,
    reportEndDate,
    team,
    target
  },
  history
}) => {
  return (
    <Paper className="project-details">
      <div>
        <h2 className="project-details-header">
          {name}
          <div>
            {team &&
              team.map(team => (
                <Chip
                  className="medium-size"
                  key={team._id}
                  label={team.name}
                  variant="outlined"
                />
              ))}
            <Link href={target}>
              <Button
                variant="outlined"
                color="primary"
                className="medium-size"
                startIcon={<GetAppIcon />}
              >
                Download File
              </Button>
            </Link>
          </div>
        </h2>
      </div>
      <div className="content">
        <div className="description">{description}</div>
        <div className="deadline">
          <Table className="deadline_table" aria-label="simple table">
            <TableHead>
              <TableRow>
                <TableCell className="small">Description</TableCell>
                <TableCell className="small">Start Date</TableCell>
                <TableCell className="small">End Date</TableCell>
              </TableRow>
            </TableHead>
            <TableBody>
              <TableRow>
                <TableCell className="small">Project Schedule</TableCell>
                <TableCell className="small">{startDate}</TableCell>
                <TableCell className="small">{endDate}</TableCell>
              </TableRow>
              <TableRow>
                <TableCell className="small">Report Schedule</TableCell>
                <TableCell className="small">{reportStartDate}</TableCell>
                <TableCell className="small">{reportEndDate}</TableCell>
              </TableRow>
            </TableBody>
          </Table>
        </div>
        {target}
      </div>
    </Paper>
  );
};

export default withRouter(ProjectDetails);
