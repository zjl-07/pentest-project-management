import React from "react";
import { withRouter } from "react-router-dom";
import { Button, IconButton, Drawer } from "@material-ui/core";
import ExitToAppIcon from "@material-ui/icons/ExitToApp";
import MenuOutlinedIcon from "@material-ui/icons/MenuOutlined";
import DescDrawer from "components/desc-drawer/desc";

const Header = ({ onToggleSideBar, history }) => {
  const [state, setDrawer] = React.useState(false);

  const toggleDrawer = () => {
    setDrawer(!state);
  };

  const logout = () => {
    localStorage.removeItem("currentUser");
    history.push("/login");
  };

  return (
    <div className="header">
      <MenuOutlinedIcon
        onClick={onToggleSideBar}
        fontSize="large"
        cursor="pointer"
      />
      <h3 className="title">ARL PROJECT MANAGEMENT</h3>
      <div>
        <Button
          className="medium-size white u-margin-right-small"
          variant="outlined"
          onClick={() => toggleDrawer()}
        >
          Attack Guide
        </Button>
        <IconButton
          color="default"
          className="logout-button white"
          onClick={logout}
        >
          <ExitToAppIcon />
        </IconButton>
      </div>
      <Drawer anchor="right" open={state} onClose={() => toggleDrawer()}>
        <DescDrawer />
      </Drawer>
    </div>
  );
};

export default withRouter(Header);
