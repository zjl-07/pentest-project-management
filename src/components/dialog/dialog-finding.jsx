import React from "react";
import { withRouter } from "react-router-dom";
import { useStyles } from "./dialog.styles";
import Button from "@material-ui/core/Button";
import Badge from "@material-ui/core/Badge";
import Typography from "@material-ui/core/Typography";
import Dialog from "@material-ui/core/Dialog";
import DialogActions from "@material-ui/core/DialogActions";
import DialogContent from "@material-ui/core/DialogContent";
import DialogTitle from "@material-ui/core/DialogTitle";
import TextField from "@material-ui/core/TextField";

const DialogFinding = ({ modal, data, onToggleModal, history, match }) => {
  const classes = useStyles();
  return (
    <Dialog
      open={modal}
      onClose={() => onToggleModal(data)}
      aria-labelledby="alert-dialog-title"
      aria-describedby="alert-dialog-description"
    >
      {console.log("data", data)}
      <DialogTitle id="alert-dialog-title">
        <div className={classes.layout}>
          <Typography gutterBottom variant="h4">
            {data.name}
          </Typography>
          <Badge
            className={classes.status}
            badgeContent={data.status ? "DONE" : "CLOSED"}
            color={data.status ? "primary" : "secondary"}
          />
        </div>
      </DialogTitle>
      <DialogContent>
        <TextField
          InputProps={{
            readOnly: true
          }}
          label="Description"
          multiline
          rows="5"
          value={data.description}
          className={classes.textField}
          margin="normal"
          variant="outlined"
        />
        <TextField
          InputProps={{
            readOnly: true
          }}
          multiline
          rows="5"
          label={data.desc.name}
          value={data.desc.description}
          className={classes.textField}
          margin="normal"
          variant="outlined"
        />
        <div className={classes.layout}>
          <TextField
            InputProps={{
              readOnly: true
            }}
            multiline
            label="CWE"
            rows="2"
            value={data.desc.cwe}
            className={classes.textFieldSmall}
            margin="normal"
            variant="outlined"
          />
          <TextField
            InputProps={{
              readOnly: true
            }}
            label="Location"
            multiline
            rows="2"
            value={data.location}
            className={classes.textFieldSecondary}
            margin="normal"
            variant="outlined"
          />
        </div>
      </DialogContent>
      {data.child && (
        <DialogActions>
          <Button
            // onClick={() => history.push(`/corporate/${data.id}/projects`)}
            color="primary"
            variant="contained"
            id="default-size"
          >
            Open Other Similar Findings
          </Button>
        </DialogActions>
      )}
    </Dialog>
  );
};

export default withRouter(DialogFinding);
